<script lang="ts">
	import { Globe } from '@layerd/ui';
</script>

<!-- globe -->
<div
	class="fade-in bleed mask-b-from-90% mask-b-to-100% pointer-events-auto !absolute inset-0 overflow-clip"
>
	<Globe
		data={{
			polygons: '/data/countries.geojson',
			locations: 'https://sheetari.deno.dev/1_BNtsJr9TaSYRPFAKcAd9pa_TUQyYBfqEZiDvDvkPTw/locations',
			ports: 'https://sheetari.deno.dev/1_BNtsJr9TaSYRPFAKcAd9pa_TUQyYBfqEZiDvDvkPTw/ports'
		}}
		globe={{
			// image: '/images/skins/earth-blue-marble.jpg',
			width: typeof window !== 'undefined' ? window.innerWidth : 1920,
			height: typeof window !== 'undefined' ? window.innerHeight : 1080,
			left: 0,
			top: mq.md
				? typeof window !== 'undefined'
					? window.innerHeight * 0.9
					: 972
				: typeof window !== 'undefined'
					? window.innerHeight * 1.72
					: 1856,
			altitude: mq.md ? 0.8 : 0.2,
			latitude: mq.md ? 36 : 21
		}}
		atmosphere={{
			show: true,
			color: 'lightskyblue',
			altitude: mq.md ? 0.25 : 0.08
		}}
		polygon={{
			capColor: '#181e2b',
			sideColor: '#0b101c',
			strokeColor: '#3b4250',
			altitude: mq.md ? 0.005 : 0.002
		}}
		vignette={{
			enabled: false,
			fadeStart: 0.3,
			fadeEnd: 1.0,
			opacity: 0.7
		}}
		points={{
			altitude: mq.md ? 0.007 : 0.01,
			color: 'rgba(0, 0, 255, 0)'
		}}
		labels={{
			size: mq.md ? 0.75 : 0.25,
			dotRadius: mq.md ? 0.3 : 0.1,
			textColor: '#ffffff',
			dotColor: '#ffffff',
			altitude: mq.md ? 0.008 : 0.005
		}}
		html={{
			altitude: mq.md ? 0.009 : 0.01
		}}
		arcs={{
			color: '#ffffff', // arc color
			stroke: mq.md ? 0.2 : 0.05, // arc thickness
			duration: 2000, // the flight time in milliseconds
			dashRelativeLength: 0.4, // relative to whole arc
			dashLength: 0.6, // length of the dash portion of the arc
			dashGap: 2, // length of the gap portion of the arc
			dashInitialGap: 1, // initial gap before the dash
			altitude: null, // null = auto altitude based on distance
			altitudeAutoscale: mq.md ? 0.3 : 0.2, // scale factor for altitude when altitude is null
			startAltitude: mq.md ? 0.007 : 0.004, // starting altitude
			endAltitude: mq.md ? 0.007 : 0.004 // ending altitude
		}}
		rings={{
			color: '#ffffff', // ring color
			stroke: mq.md ? 0.03 : 0.01, // ring thickness
			radius: mq.md ? 4 : 2, // maximum ring radius
			speed: mq.md ? 4 : 2, // propagation speed
			repeat: 1000, // repeat period
			altitude: mq.md ? 0.006 : 0.003 // ring altitude
		}}
		animation={{
			duration: 1000
		}}
		autoplay={{
			enabled: true,
			interval: 7000,
			pauseOnInteraction: true,
			resumeDelay: 60000
		}}
	/>
</div>
